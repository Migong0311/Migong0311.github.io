<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Migong0311 | AI 학습</title>
  <meta name="description" content="AI 학습 타임라인과 마크다운 학습 노트를 페이지네이션으로 정리하고 모달로 표시하는 페이지" />
  <!-- Bootstrap 5 & Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <!-- Main CSS -->
  <link rel="stylesheet" href="assets/css/style.css" />
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/icons/favicon.svg">
  <link rel="alternate icon" href="/assets/icons/favicon.svg">
  <!-- Marked (Markdown → HTML) -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <style>
    /* 마크다운 본문 가독성 보강 */
    .md-body h1,
    .md-body h2,
    .md-body h3 {
      margin-top: 1rem;
    }

    .md-body pre code {
      white-space: pre-wrap;
    }

    .md-body table {
      width: 100%;
    }

    .md-body img {
      max-width: 100%;
      height: auto;
    }

    .truncate-1 {
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .truncate-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* ==== Scroll Buttons ==== */
    .scroll-btn {
      position: fixed;
      right: 1.5rem;
      bottom: 4rem;
      z-index: 1050;
      background: var(--surface-1);
      border: 1px solid var(--border);
      color: var(--text);
      border-radius: 50%;
      width: 46px;
      height: 46px;
      font-size: 1.6rem;
      display: grid;
      place-items: center;
      cursor: pointer;
      transition: all .3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, .1);
    }

    .scroll-btn:hover {
      transform: translateY(-2px);
      color: var(--accent-1);
      box-shadow: 0 6px 14px rgba(0, 0, 0, .15);
    }

    .scroll-btn.scroll-btn-bottom {
      bottom: 1.2rem;
    }

    .scroll-btn.hide {
      opacity: 0;
      pointer-events: none;
      transform: translateY(10px);
    }
  </style>
</head>

<body>

  <!-- 🔼 Scroll Top / Bottom Buttons -->
  <button id="scrollTopBtn" class="scroll-btn" title="맨 위로">
    <i class="bi bi-arrow-up-circle"></i>
  </button>
  <button id="scrollBottomBtn" class="scroll-btn scroll-btn-bottom" title="맨 아래로">
    <i class="bi bi-arrow-down-circle"></i>
  </button>

  <!-- NAV -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-semibold" href="./">Migong0311</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="navMenu" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="assets/html/about.html">나의 소개</a></li>
          <li class="nav-item"><a class="nav-link" href="./#collab">협업</a></li>
          <li class="nav-item"><a class="nav-link active" aria-current="page" href="ai_practice.html">AI 학습</a></li>
          <li class="nav-item"><a class="nav-link" href="./#projects">프로젝트</a></li>
          <li class="nav-item"><a class="nav-link" href="./#contact">연락</a></li>
        </ul>
        <button id="themeToggle" class="btn btn-outline-secondary ms-lg-3" title="Toggle dark mode">🌙</button>
      </div>
    </div>
  </nav>

  <main>
    <!-- HERO -->
    <header class="py-5 hero-grad">
      <div class="container">
        <h1 class="display-6 fw-bold mb-2">🧠 AI 학습 기록</h1>
        <p class="text-secondary mb-0">내일 죽을 것처럼 살아라. 영원히 살 것처럼 배워라. <br><i>- 마하트마 간디 (Mahatma Gandhi) - </i></p>
      </div>
    </header>

    <!-- 타임라인 (간단 개요) -->
    <section class="section-pad">
      <div class="container">
        <h2 class="h4 fw-bold mb-3">📅 학습 타임라인(개요)</h2>
        <div class="row g-3">
          <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 border bg-white h-100">
              <div class="small text-secondary">Step 1</div>
              <div class="fw-semibold">데이터 정규화 · 선형대수 해법</div>
              <div class="small text-secondary">표준화, 정규방정식/최소제곱/SVD, GD</div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 border bg-white h-100">
              <div class="small text-secondary">Step 2</div>
              <div class="fw-semibold">MLP 기초 · 학습/평가 루프</div>
              <div class="small text-secondary">train/eval, CrossEntropy, metrics</div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 border bg-white h-100">
              <div class="small text-secondary">Step 3</div>
              <div class="fw-semibold">전이학습 · ViT 분류</div>
              <div class="small text-secondary">ResNet18 Linear Probing → FT, ViT</div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 border bg-white h-100">
              <div class="small text-secondary">Step 4</div>
              <div class="fw-semibold">토크나이저/임베딩 · RNN/LSTM · Attention</div>
              <div class="small text-secondary">HF tokenizer, attention 개념</div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 border bg-white h-100">
              <div class="small text-secondary">Step 5</div>
              <div class="fw-semibold">ML 실습(Scikit-learn) 종합</div>
              <div class="small text-secondary">EDA, 전처리, 로지스틱, ROC-AUC, PCA+KMeans</div>
            </div>
          </div>
          <!-- Step 6: day07 이미지 생성·평가·학습 -->
          <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 border bg-white h-100">
              <div class="small text-secondary">Step 6</div>
              <div class="fw-semibold">이미지 생성 · 평가 · 모델학습</div>
              <div class="small text-secondary">Stable Diffusion · CLIP · ResNet18(Linear Probing)</div>
            </div>
          </div>
          <!-- Step 7: day08 합성 데이터 제작 -->
          <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 border bg-white h-100">
              <div class="small text-secondary">Step 7</div>
              <div class="fw-semibold">합성 데이터 제작</div>
              <div class="small text-secondary">프롬프트 설계 · 증강/합성 파이프라인 · 평가 지표</div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 border bg-white h-100">
              <div class="small text-secondary">Step 8</div>
              <div class="fw-semibold">RAG 기반 고객서비스 에이전트</div>
              <div class="small text-secondary">
                문서 임베딩 · 벡터 검색 · Retriever/LLM 결합 · LangChain Agent 구축
              </div>
            </div>
          </div>

          <!-- 다음카드 추가란 -->

        </div>
      </div>
    </section>

    <!-- 📚 학습 노트 목록 (수동 등록 + 페이지네이션 + 모달) -->
    <section class="section-pad bg-light">
      <div class="container">
        <div class="d-flex flex-wrap gap-2 align-items-end justify-content-between mb-3">
          <h2 class="h4 fw-bold mb-0">📚 학습 노트 목록</h2>
        </div>

        <div class="card border-0 shadow-sm">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table align-middle">
                <thead>
                  <tr>
                    <th style="width:80px;">No.</th>
                    <th>제목</th>
                    <th style="width:140px;">학습날짜</th>
                    <th style="width:120px;" class="text-center">상세내용</th>
                  </tr>
                </thead>
                <tbody id="noteTableBody"></tbody>
              </table>
            </div>

            <!-- 페이지네이션 -->
            <nav class="d-flex justify-content-center">
              <ul id="notePager" class="pagination pagination-sm m-0"></ul>
            </nav>
          </div>
        </div>

        <div id="noteEmpty" class="alert alert-light border mt-3" role="alert" style="display:none;">
          아직 등록된 학습 노트가 없습니다. <code>AI_NOTES</code> 배열에 항목을 추가해 주세요.
        </div>
      </div>
    </section>
  </main>

  <footer class="py-4 border-top">
    <div class="container small text-secondary">
      © <span id="year"></span> Migong0311 · Hosted on GitHub Pages
    </div>
  </footer>

  <!-- 📌 Modal: 노트 보기 -->
  <div class="modal fade" id="noteModal" tabindex="-1" aria-labelledby="noteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 id="noteModalLabel" class="modal-title">학습 노트</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="닫기"></button>
        </div>
        <div class="modal-body md-body" id="noteModalBody">
          불러오는 중…
        </div>
        <div class="modal-footer">
          <a id="noteRawLink" href="#" target="_blank" rel="noreferrer" class="btn btn-outline-secondary btn-sm">
            <i class="bi bi-box-arrow-up-right"></i> 원본 열기
          </a>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">닫기</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- 공용 스크립트(테마 토글 등) -->
  <script type="module" src="assets/js/scripts.js"></script>

  <!-- 페이지 전용 스크립트 -->
  <script>
    // ====== 1) 수동 등록 목록 ======
    // GitHub에 파일 커밋 후, 아래 배열에 항목을 추가하세요.
    // { title: '표시 타이틀', src: 'assets/ai/파일명.md', date: 'YYYY-MM-DD' }
    const AI_NOTES = [
      // { title: '제목', src: 'assets/ai/your-file.md', date: '2025-10-10' },
      { title: 'Day02 데이터 정규화 & 선형대수 해법', src: 'assets/ai/day02-ai-linear-algebra.md', date: '2025-10-13' },
      { title: 'Day03 MLP 구현 · 학습/평가 루프', src: 'assets/ai/day03-ai-mlp.md', date: '2025-10-14' },
      { title: 'Day04 Transfer Learning & Vision Transformer', src: 'assets/ai/day04-ai-transfer-learning.md', date: '2025-10-15' },
      { title: 'Day05 토크나이저·임베딩·RNN/LSTM·Attention·HF', src: 'assets/ai/day05-ai-nlp-tokenizer.md', date: '2025-10-16' },
      { title: 'Day06 머신러닝 기초 실습(EDA·전처리·로지스틱·ROC·PCA/KMeans)', src: 'assets/ai/day06-ai-ml-basics.md', date: '2025-10-17' },
      { title: 'Day07 이미지 생성 및 평가와 모델 학습', src: 'assets/ai/day07_image_generation_training.md', date: '2025-10-20' },
      { title: 'Day08 합성 데이터 제작', src: 'assets/ai/day08_synthetic_data_summary.md', date: '2025-10-21' },
      { title: 'Day09 RAG 기반 Customer Service AI 에이전트 개발', src: 'assets/ai/day09-rag-based-customer-service-agent.md', date: '2025-10-22' },

    ];

    // ====== 2) 페이지네이션 / 렌더 ======
    const PAGE_SIZE = 10;
    let state = { page: 1, total: AI_NOTES.length };

    const $tbody = document.getElementById('noteTableBody');
    const $pager = document.getElementById('notePager');
    const $empty = document.getElementById('noteEmpty');

    const $modal = new bootstrap.Modal(document.getElementById('noteModal'));
    const $modalLabel = document.getElementById('noteModalLabel');
    const $modalBody = document.getElementById('noteModalBody');
    const $rawLink = document.getElementById('noteRawLink');

    function escapeHtml(s = '') { return s.replace(/[&<>"']/g, m => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }[m])); }
    const pad = n => String(n).padStart(2, '0');

    function renderPage(page = 1) {
      state.total = AI_NOTES.length;
      if (state.total === 0) {
        $tbody.innerHTML = '';
        $pager.innerHTML = '';
        $empty.style.display = 'block';
        return;
      }
      $empty.style.display = 'none';

      const pages = Math.max(1, Math.ceil(state.total / PAGE_SIZE));
      state.page = Math.min(Math.max(1, page), pages);
      const start = (state.page - 1) * PAGE_SIZE;
      const rows = AI_NOTES
        .slice() // 복사본
        .sort((a, b) => (a.date || '').localeCompare(b.date || '')) // 최신 날짜 우선
        .slice(start, start + PAGE_SIZE);

      $tbody.innerHTML = rows.map((it, idx) => `
        <tr>
          <td>${start + idx + 1}</td>
          <td>
            <div class="fw-semibold truncate-1" title="${escapeHtml(it.title)}">${escapeHtml(it.title)}</div>
            <div class="text-secondary small truncate-2">${escapeHtml(it.src)}</div>
          </td>
          <td>${escapeHtml(it.date || '')}</td>
          <td class="text-center">
            <button class="btn btn-sm btn-outline-primary" data-action="view" data-src="${escapeHtml(it.src)}" data-title="${escapeHtml(it.title)}">
              <i class="bi bi-eye"></i> 보기
            </button>
          </td>
        </tr>
      `).join('');

      bindRowEvents();
      renderPager(pages);
    }

    function renderPager(pages) {
      const page = state.page;
      const btns = [];
      btns.push(`<li class="page-item ${page === 1 ? 'disabled' : ''}"><a class="page-link" data-page="${page - 1}" aria-label="이전">&laquo;</a></li>`);

      const maxShow = 7;
      let start = Math.max(1, page - Math.floor(maxShow / 2));
      let end = Math.min(pages, start + maxShow - 1);
      if (end - start + 1 < maxShow) start = Math.max(1, end - maxShow + 1);

      for (let p = start; p <= end; p++) {
        btns.push(`<li class="page-item ${p === page ? 'active' : ''}"><a class="page-link" data-page="${p}">${p}</a></li>`);
      }

      btns.push(`<li class="page-item ${page === pages ? 'disabled' : ''}"><a class="page-link" data-page="${page + 1}" aria-label="다음">&raquo;</a></li>`);
      $pager.innerHTML = btns.join('');

      $pager.querySelectorAll('a.page-link').forEach(a => {
        a.addEventListener('click', () => {
          const p = parseInt(a.getAttribute('data-page'), 10);
          if (!isNaN(p)) renderPage(p);
        });
      });
    }

    function bindRowEvents() {
      $tbody.querySelectorAll('button[data-action="view"]').forEach(btn => {
        btn.addEventListener('click', async () => {
          const src = btn.getAttribute('data-src');
          const title = btn.getAttribute('data-title');
          $modalLabel.textContent = title || '학습 노트';
          $modalBody.innerHTML = '불러오는 중…';
          $rawLink.href = src || '#';

          try {
            const res = await fetch(src);
            if (!res.ok) throw new Error('not ok');
            const text = await res.text();
            $modalBody.innerHTML = marked.parse(text);
          } catch (e) {
            $modalBody.innerHTML = `<div class="text-danger">마크다운을 불러오지 못했습니다: ${escapeHtml(src || '')}</div>`;
          }
          $modal.show();
        });
      });
    }

    // ====== 3) Scroll Buttons ======
    (function () {
      const btnTop = document.getElementById('scrollTopBtn');
      const btnBottom = document.getElementById('scrollBottomBtn');
      if (!btnTop || !btnBottom) return;

      btnTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
      btnBottom.addEventListener('click', () => window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' }));

      window.addEventListener('scroll', () => {
        const y = window.scrollY || document.documentElement.scrollTop;
        const show = y > 200;
        btnTop.classList.toggle('hide', !show);
        btnBottom.classList.toggle('hide', !show);
      });

      btnTop.classList.add('hide');
      btnBottom.classList.add('hide');
    })();

    // ====== 4) init ======
    (function init() {
      const y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();
      renderPage(1);
    })();
  </script>
</body>

</html>