<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ëœë¤ ê°•ì•„ì§€ ì‚¬ì§„</title>

  <!-- Bootstrap CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    body {
      background: #0f172a; /* ì‚´ì§ ì–´ë‘ìš´ ë°°ê²½ */
      min-height: 100vh;
    }
    .hero-title {
      letter-spacing: -0.5px;
    }
    .dog-img {
      width: 100%;
      height: 420px;
      object-fit: contain; /* ì´ë¯¸ì§€ ë¹„ìœ¨ ìœ ì§€ */
      background: #111827;
      border-radius: 12px;
    }
    .card-glass {
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.12);
      backdrop-filter: blur(6px);
    }
  </style>
</head>

<body>
  <!-- ì „ì²´ ì»¨í…Œì´ë„ˆ -->
  <main class="container py-5">
    <!-- í—¤ë” ì˜ì—­ -->
    <header class="text-center mb-4">
      <h1 class="display-5 fw-bold text-white hero-title">
        ğŸ¶ ëœë¤ ê°•ì•„ì§€ ì‚¬ì§„
      </h1>
      <p class="text-secondary mt-2">
        ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì˜¤ëŠ˜ì˜ ê·€ì—¬ìš´ ê°•ì•„ì§€ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
      </p>
    </header>

    <!-- ì¹´ë“œ ì˜ì—­ -->
    <section class="row justify-content-center">
      <div class="col-12 col-md-9 col-lg-7 col-xl-6">
        <div class="card card-glass shadow-lg rounded-4 p-3">
          <div class="card-body">

            <!-- ì´ë¯¸ì§€ ì˜ì—­ -->
            <div class="position-relative">
              <img id="dogImage" class="dog-img" src="" alt="random dog" />
              
              <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
              <div
                id="loading"
                class="position-absolute top-50 start-50 translate-middle d-none"
              >
                <div class="spinner-border text-light" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
              </div>
            </div>

            <!-- ë²„íŠ¼/ì„¤ëª… -->
            <div class="d-grid gap-2 mt-4">
              <button id="dogBtn" class="btn btn-primary btn-lg">
                ëœë¤ ê°•ì•„ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
              </button>
              <button id="dogBtn2" class="btn btn-outline-light">
                í•œ ë²ˆ ë”!
              </button>
            </div>

            <p class="small text-secondary text-center mt-3 mb-0">
              Dog CEO APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- axios CDN -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <script>
    const API_URI = "https://dog.ceo/api/breeds/image/random";

    const dogImage = document.getElementById("dogImage");
    const dogBtn = document.getElementById("dogBtn");
    const dogBtn2 = document.getElementById("dogBtn2");
    const loading = document.getElementById("loading");

    function setLoading(isLoading) {
      loading.classList.toggle("d-none", !isLoading);
      dogBtn.disabled = isLoading;
      dogBtn2.disabled = isLoading;
    }

    function getDog() {
      setLoading(true);

      axios({
        method: "get",
        url: API_URI,
      })
      .then((response) => {
        dogImage.src = response.data.message;
      })
      .catch((err) => {
        alert("ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
        console.error(err);
      })
      .finally(() => {
        setLoading(false);
      });
    }

    // ë²„íŠ¼ ì´ë²¤íŠ¸
    dogBtn.addEventListener("click", getDog);
    dogBtn2.addEventListener("click", getDog);

    // ì²« ë¡œë“œì‹œ ìë™ìœ¼ë¡œ 1ì¥ ë¶ˆëŸ¬ì˜¤ê¸°
    getDog();
  </script>
</body>

</html>
